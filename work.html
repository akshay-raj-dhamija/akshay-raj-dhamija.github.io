<html>
  <head>
    <script src="https://aframe.io/releases/0.4.0/aframe.min.js"></script>
    <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-template-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
    <script src="https://rawgit.com/bryik/aframe-bmfont-text-component/master/dist/aframe-bmfont-text-component.min.js"></script>    
    <script src="https://rawgit.com/ngokevin/aframe-look-at-component/master/dist/aframe-look-at-component.min.js"></script>

	<!-- For Cursor -->
	<script>
		function hover(ele) {
			var id = ele.id;
			console.log('area element id = ' + id);
			document.querySelector('#ring2').emit('click');
			document.querySelector('#ring21').emit('click');
			document.querySelector('#ring3').emit('click');
			}
    </script>

	<script>
	function leave(ele) {
		var id = ele.id;
		console.log('leave id = ' + id);
		document.querySelector('#ring2').emit('done');
		document.querySelector('#ring21').emit('done');
		document.querySelector('#ring3').emit('done');
		}
    </script>
	<!-- For Cursor Ends -->

	<script>
	function linking(ele) {
		var id = ele.id;
		console.log('area element id = ' + id);
		if (id=='shorthome')
			window.location.href="vr.html";
		else if (id=='shortacademics')
			window.location.href="academics.html";
		else if (id=='shortpub')
			window.location.href="publications.html";
		else if (id=='shortwork')
			window.location.href="work.html";
		else if (id=='shortproject')
			window.location.href="projects.html";
		}
    </script>

	<script>
	function linkit(ele) {
		var id = ele.id;
		console.log('area element id = ' + id);
		if (id=='mphrx')
			{
//			document.getElementById("plane").setAttribute('material', 'visible','true');
			document.getElementById("mwebid").setAttribute('visible',true);
			document.getElementById("mwebid").setAttribute('position', {x: 0, y: 1, z: -16});
			document.getElementById("close1").setAttribute('visible',true);
			document.getElementById("close1").setAttribute('position', {x: 0, y: -1, z: -16});
			document.getElementById("mphrx_t").setAttribute('visible',true);
			document.getElementById("camera").setAttribute('position', {x: 0, y: 0, z: -13});
			}
		else if (id=='vast')
			{
			document.getElementById("vwebid").setAttribute('visible',true);
			document.getElementById("vwebid").setAttribute('position', {x: 0, y: 1, z: -26});
			document.getElementById("close1").setAttribute('position', {x: 0, y: -1, z: -26});
			document.getElementById("close1").setAttribute('visible',true);
			document.getElementById("vast_t").setAttribute('visible',true);
			document.getElementById("camera").setAttribute('position', {x: 0, y: 0, z: -23});
			}
		else if (id=='close')
			{
			document.getElementById("mwebid").setAttribute('visible',false);
			document.getElementById("mwebid").setAttribute('position', {x: 0, y: 7, z: -26});
			document.getElementById("vwebid").setAttribute('visible',false);
			document.getElementById("vwebid").setAttribute('position', {x: 0, y: 7, z: -26});
			document.getElementById("close1").setAttribute('visible',false);
			document.getElementById("close1").setAttribute('position', {x: 0, y: 7, z: -26});
			document.getElementById("mphrx_t").setAttribute('visible',false);
			document.getElementById("vast_t").setAttribute('visible',false);
			document.getElementById("camera").setAttribute('position', {x: 0, y: 0, z: 0});
			}
		else if (id=='mweb')
			window.location.href="http://mphrx.com/";
		else if (id=='vweb')
			window.location.href="http://vast.uccs.edu";
		}
    </script>
  </head>
  <body>
    <a-scene>
		<a-sky id="image-360" src="#sky5"></a-sky>
      <a-assets>
      
	<!-- Shortcut Images -->		
		<img id="shortacademics" crossorigin="anonymous" src="VR_Images/academics.png">
		<img id="shortpub" crossorigin="anonymous" src="VR_Images/publications.png">
		<img id="shortwork" crossorigin="anonymous" src="VR_Images/work.png">
		<img id="shortproject" crossorigin="anonymous" src="VR_Images/project.png">
		<img id="shorthome" crossorigin="anonymous" src="VR_Images/home.png">
	<!-- Shortcut Images End -->		


		<img id="sky5" crossorigin="anonymous" src="VR_Images/sky5.jpg">
      	<img id="mphrx" src="VR_Images/mphrx.png">
      	<img id="vast" src="VR_Images/vast.png">
      	<img id="web" src="VR_Images/website.png">
      	<img id="close" src="VR_Images/close.png">
        <audio id="click-sound" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg"></audio>


<!--
        <script id="link1" type="text/nunjucks">
          <a-plane id="plane" class="link1"
            update-raycaster="#cursor"></a-plane>
        </script>
-->

        <script id="link" type="text/nunjucks">
          <a-plane id="plane" class="link" height="1.75" width="2.5" src={{ thumb }} transparent=true
			sound="on: click; src: #click-sound"
            update-raycaster="#cursor"></a-plane>
        </script>
        <script id="short" type="text/nunjucks">
          <a-plane class="short" height="0.75" width="0.75"
            material="shader: flat; transparent:true; src: {{ thumb }}"
            sound="on: click; src: #click-sound"
            update-raycaster="#cursor"></a-plane>
        </script>
      </a-assets>

       	<a-entity look-at="#camera" id="mphrx" template="src: #link" data-thumb="#mphrx" position="2.75 0 -3" onclick="linkit(this)" onmouseenter="hover(this)" onmouseleave="leave(this)"></a-entity>
       	<a-entity look-at="#camera" id="vast" template="src: #link" data-thumb="#vast" position="-2.75 0 -3" onclick="linkit(this)" onmouseenter="hover(this)" onmouseleave="leave(this)"></a-entity>
		<a-entity id="mphrx_t" visible='false' position="-2.5 -0.5 -16" bmfont-text="text: November 2012 - August 2015 &#10; An Exhilarating experience, that exposed me to the dynamics of startups and healthcare industry while juggling various responsibilities such as project management, product design, requierment gathering, product delivery and market analysis; color: #333; align:center; width:1000;"></a-entity>
		<a-entity id="vast_t" visible='false' position="-2.5 -0.5 -26" bmfont-text="text: September 2015 - Present &#10; Working on IARPA grant for Janus project, aimed towards recognizing faces in the wild, under the guidance of Dr. Terrance Boult. &#10; Focused on investigating attribute recognition from faces in both closed set and open set scenarios.; color: #333; align:center; width:1000;"></a-entity>
<!--       	<a-entity id="close" visible='true' position="0 0 -26" template="src: #link" data-thumb="#close" onclick="linkit(this)"></a-entity>
-->
	<a-entity id="close1" visible='false' position="0 0 3">
       	<a-image id="close" class="link" transparent='true' height="0.75" width="0.75" update-raycaster="#cursor" src="#close" onclick="linkit(this)" onmouseenter="hover(this)" onmouseleave="leave(this)"></a-image>
	</a-entity>
	<a-entity id="mwebid" visible='false' position="0 0 3">
       	<a-image id="mweb" class="link" transparent='true' height="0.75" width="0.75" update-raycaster="#cursor" src="#web" onclick="linkit(this)" onmouseenter="hover(this)" onmouseleave="leave(this)"></a-image>
	</a-entity>
	<a-entity id="vwebid" visible='false' position="0 0 3">
       	<a-image id="vweb" class="link" transparent='true' height="0.75" width="0.75" update-raycaster="#cursor" src="#web" onclick="linkit(this)" onmouseenter="hover(this)" onmouseleave="leave(this)"></a-image>
	</a-entity>

	<!-- Shortcuts -->
      <a-entity id="links" layout="type: line; margin:1.5" position="-3 -2.5 -3">
       	<a-entity id="shortacademics" template="src: #short" data-thumb="#shortacademics" onclick="linking(this)" onmouseenter="hover(this)" onmouseleave="leave(this)"></a-entity>
       	<a-entity id="shortpub" template="src: #short" data-thumb="#shortpub" onclick="linking(this)" onmouseenter="hover(this)" onmouseleave="leave(this)"></a-entity>
       	<a-entity id="shorthome" template="src: #short" data-thumb="#shorthome" onclick="linking(this)" onmouseenter="hover(this)" onmouseleave="leave(this)"></a-entity>
       	<a-entity id="shortwork" template="src: #short" data-thumb="#shortwork" onclick="linking(this)" onmouseenter="hover(this)" onmouseleave="leave(this)"></a-entity>
       	<a-entity id="shortproject" template="src: #short" data-thumb="#shortproject" onclick="linking(this)" onmouseenter="hover(this)" onmouseleave="leave(this)"></a-entity>
      </a-entity>
<!--      <a-entity id="links" layout="type: line; margin:1.5" position="-4.25 -3 -3">
       	<a-entity id="shortacademics" bmfont-text="text: Academics; color: #333; align:center; width:500;"></a-entity>
       	<a-entity id="shortpub" bmfont-text="text: Publications; color: #333; align:center; width:500;"></a-entity>
       	<a-entity id="shorthome" bmfont-text="text: Home; color: #333; align:center; width:500;"></a-entity>
       	<a-entity id="shortwork" bmfont-text="text: Work Experience; color: #333; align:center; width:500;"></a-entity>
       	<a-entity id="shortproject" bmfont-text="text: Projects; color: #333; align:center; width:500;"></a-entity>
      </a-entity>
-->
	<!-- Shortcuts End -->



		<!-- Cursor -->
		<a-entity camera id="camera" position="0 0 0" look-controls> 
			<a-entity id="cursor" cursor="fuse: true; fuseTimeout: 3001; maxDistance: 0.5"
  				raycaster="objects: .link,.short"
	            geometry="primitive: ring;radiusInner: 0.095; radiusOuter: 0.1;"
    	        material="color: black; shader: flat">
				<!-- Inner rings -->
	  			<a-ring id="ring1" color="#ef338f" radius-inner="0.09" radius-outer="0.095" position="0 0 -0.5" theta-start=180 theta-length=90>
    	    		<a-animation easing="ease-in" attribute="theta-start" fill="forwards" from="180" to="360" dur="1500" repeat="indefinite"></a-animation>
				</a-ring>
		  		<a-ring id="ring11" color="#ef338f" radius-inner="0.09" radius-outer="0.095" position="0 0 -0.5" theta-start=0 theta-length=90>
    		    	<a-animation easing="ease-in" attribute="theta-start" fill="forwards" from="0" to="180" dur="1500" repeat="indefinite"></a-animation>
				</a-ring>

				<!-- Outer rings -->
		  		<a-ring id="ring2" color="#ef338f" radius-inner="0.115" radius-outer="0.12" position="0 0 -0.5" theta-start=90 theta-length=90>
    		    	<a-animation easing="ease-in" attribute="theta-start" fill="forwards" from="180" to="0" dur="1500" repeat="indefinite"></a-animation>
				</a-ring>
		  		<a-ring id="ring21" color="#ef338f" radius-inner="0.115" radius-outer="0.12" position="0 0 -0.5" theta-start=270 theta-length=90>
    		    	<a-animation easing="ease-in" attribute="theta-start" fill="forwards" from="360" to="180" dur="1500" repeat="indefinite"></a-animation>
				</a-ring>
		
				<!-- Filler Ring  #357cfe #52fe76 -->
				<a-ring id="ring3" color="#ef0002" radius-inner="0.1" radius-outer="0.11" position="0 0 -0.5" theta-start=0 theta-length=0>
    		    	<a-animation begin="click" end="done" easing="ease-in" attribute="theta-length" fill="forwards" from="0" to="360" dur="3000" repeat="indefinite"></a-animation>
				</a-ring>
			</a-entity>
		</a-entity>
		<!-- Cursor Ends -->
    </a-scene>
  </body>
</html>
